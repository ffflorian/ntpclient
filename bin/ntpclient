#!/usr/bin/env node

//@ts-check

const { NTPClient } = require('../dist/');
const program = require('commander');
const { description, version } = require('../package.json');

program
  .version(version)
  .description(description)
  .option('-s, --server <host>', 'Specify a custom NTP server')
  .option('-p, --port <number>', 'Specify a custom NTP port')
  .parse(process.argv);

new NTPClient(program.server, program.port)
  .getNetworkTime()
  .then(date => console.log(date))
  .catch(err => console.error(err));
